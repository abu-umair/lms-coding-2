syntax = "proto3";

package course_chapter;

import "common/base_response.proto";
import "buf/validate/validate.proto";
import "google/protobuf/field_mask.proto";

option go_package = "github.com/abu-umair/be-lms-go/pb/course_chapter";

service CourseChapterService {
    rpc CreateCourseChapter (CreateCourseChapterRequest) returns (CreateCourseChapterResponse);
    rpc DetailCourseChapter (DetailCourseChapterRequest) returns (DetailCourseChapterResponse);
    rpc EditCourseChapter (EditCourseChapterRequest) returns (EditCourseChapterResponse);
    rpc DeleteCourseChapter (DeleteCourseChapterRequest) returns (DeleteCourseChapterResponse);
}

message CreateCourseChapterRequest {
  string instructor_id = 1 [(buf.validate.field).string = { min_len: 1, max_len: 255 }];
  string course_id = 2 [(buf.validate.field).string = { min_len: 1, max_len: 255 }];
  string title = 3 [(buf.validate.field).string = { min_len: 1, max_len: 255 }];
  int64 order_chapter = 4 [(buf.validate.field).int64.gte = 0];
  string status = 5 [(buf.validate.field).string = { max_len: 255 }];
}

message CreateCourseChapterResponse {
  common.BaseResponse base = 1;
  string id = 2;
}

message DetailCourseChapterRequest {
  string id = 1 [(buf.validate.field).string = { min_len: 1, max_len: 255 }];
  google.protobuf.FieldMask field_mask = 2;
}

message DetailCourseChapterResponse {
  common.BaseResponse base = 1;
  string id = 2;
  optional string instructor_id = 3;
  optional string course_id = 4;
  optional string title = 5;
  optional int64 order_chapter = 6;
  optional string status = 7;
  
  optional string created_at = 8;
  optional string created_by = 9;
  optional string deleted_by = 10;
  optional string updated_at = 11;
  optional string updated_by = 12;
  optional string deleted_at = 13;
}

message EditCourseChapterRequest {
  string id = 1 [(buf.validate.field).string = { min_len: 1, max_len: 255 }];
  string instructor_id = 2 [(buf.validate.field).string = { min_len: 1, max_len: 255 }];
  string course_id = 3 [(buf.validate.field).string = { min_len: 1, max_len: 255 }];
  string title = 4 [(buf.validate.field).string = { min_len: 1, max_len: 255 }];
  int64  order_chapter = 5 [(buf.validate.field).int64.gte = 0];
  string status = 6 [(buf.validate.field).string = { max_len: 255 }];
}

message EditCourseChapterResponse {
  common.BaseResponse base = 1;
  string id = 2;

}

message DeleteCourseChapterRequest {
  string id = 1 [(buf.validate.field).string = { min_len: 1, max_len: 255 }];
}

message DeleteCourseChapterResponse {
  common.BaseResponse base = 1;
}