syntax = "proto3";

package chapter_lesson;

import "common/base_response.proto";
import "buf/validate/validate.proto";
import "google/protobuf/field_mask.proto";

option go_package = "github.com/abu-umair/be-lms-go/pb/chapter_lesson";

service ChapterLessonService {
    rpc CreateChapterLesson (CreateChapterLessonRequest) returns (CreateChapterLessonResponse);
    rpc DetailChapterLesson (DetailChapterLessonRequest) returns (DetailChapterLessonResponse);
    rpc EditChapterLesson (EditChapterLessonRequest) returns (EditChapterLessonResponse);
    rpc DeleteChapterLesson (DeleteChapterLessonRequest) returns (DeleteChapterLessonResponse);
}

message CreateChapterLessonRequest {
  optional string instructor_id = 1 [(buf.validate.field).string = { min_len: 1, max_len: 255 }];
  optional string course_id = 2 [(buf.validate.field).string = { min_len: 1, max_len: 255 }];
  optional string chapter_id = 3 [(buf.validate.field).string = { min_len: 1, max_len: 255 }];
  string title = 4 [(buf.validate.field).string = { min_len: 1, max_len: 255 }];
  int64 order_lesson = 5 [(buf.validate.field).int64.gte = 0];
  optional string slug = 6 [(buf.validate.field).string = { max_len: 255 }];
  optional string description = 7 [(buf.validate.field).string = { max_len: 255 }];
  optional string file_path = 8 [(buf.validate.field).string = { max_len: 255 }];
  optional string storage_lesson = 9 [(buf.validate.field).string = { max_len: 255 }];
  optional string lesson_type = 10 [(buf.validate.field).string = { max_len: 255 }];
  optional string volume = 11 [(buf.validate.field).string = { max_len: 255 }];
  optional string duration = 12 [(buf.validate.field).string = { max_len: 255 }];
  optional string file_type = 13 [(buf.validate.field).string = { max_len: 255 }];
  optional string downloadable = 14 [(buf.validate.field).string = { max_len: 255 }];
  optional int64  is_preview = 15 [(buf.validate.field).int64.gte = 0];
  optional string status = 16 [(buf.validate.field).string = { max_len: 255 }];
}

message CreateChapterLessonResponse {
  common.BaseResponse base = 1;
  string id = 2;
}

message DetailChapterLessonRequest {
  string id = 1 [(buf.validate.field).string = { min_len: 1, max_len: 255 }];
  google.protobuf.FieldMask field_mask = 2;
}

message DetailChapterLessonResponse {
  common.BaseResponse base = 1;
  string id = 2;
  optional string chapter_id = 3 [(buf.validate.field).string = { min_len: 1, max_len: 255 }];
  string title = 4 [(buf.validate.field).string = { min_len: 1, max_len: 255 }];
  int64 order_lesson = 5 [(buf.validate.field).int64.gte = 0];
  optional string slug = 6 [(buf.validate.field).string = { max_len: 255 }];
  optional string description = 7 [(buf.validate.field).string = { max_len: 255 }];
  optional string file_path = 8 [(buf.validate.field).string = { max_len: 255 }];
  optional string storage_lesson = 9 [(buf.validate.field).string = { max_len: 255 }];
  optional string lesson_type = 10 [(buf.validate.field).string = { max_len: 255 }];
  optional string volume = 11 [(buf.validate.field).string = { max_len: 255 }];
  optional string duration = 12 [(buf.validate.field).string = { max_len: 255 }];
  optional string file_type = 13 [(buf.validate.field).string = { max_len: 255 }];
  optional string downloadable = 14 [(buf.validate.field).string = { max_len: 255 }];
  optional int64  is_preview = 15 [(buf.validate.field).int64.gte = 0];
  optional string status = 16 [(buf.validate.field).string = { max_len: 255 }];
  optional string instructor_id = 17 [(buf.validate.field).string = { min_len: 1, max_len: 255 }];
  optional string course_id = 18 [(buf.validate.field).string = { min_len: 1, max_len: 255 }];
  
  optional string created_at = 19;
  optional string created_by = 20;
  optional string deleted_by = 21;
  optional string updated_at = 22;
  optional string updated_by = 23;
  optional string deleted_at = 24;
}

message EditChapterLessonRequest {
  string id = 1 [(buf.validate.field).string = { min_len: 1, max_len: 255 }];
  optional string course_id = 2 [(buf.validate.field).string = { min_len: 1, max_len: 255 }];
  optional string chapter_id = 3 [(buf.validate.field).string = { min_len: 1, max_len: 255 }];
  string title = 4 [(buf.validate.field).string = { min_len: 1, max_len: 255 }];
  int64 order_lesson = 5 [(buf.validate.field).int64.gte = 0];
  optional string slug = 6 [(buf.validate.field).string = { max_len: 255 }];
  optional string description = 7 [(buf.validate.field).string = { max_len: 255 }];
  optional string file_path = 8 [(buf.validate.field).string = { max_len: 255 }];
  optional string storage_lesson = 9 [(buf.validate.field).string = { max_len: 255 }];
  optional string lesson_type = 10 [(buf.validate.field).string = { max_len: 255 }];
  optional string volume = 11 [(buf.validate.field).string = { max_len: 255 }];
  optional string duration = 12 [(buf.validate.field).string = { max_len: 255 }];
  optional string file_type = 13 [(buf.validate.field).string = { max_len: 255 }];
  optional string downloadable = 14 [(buf.validate.field).string = { max_len: 255 }];
  optional int64 is_preview = 15 [(buf.validate.field).int64.gte = 0];
  optional string status = 16 [(buf.validate.field).string = { max_len: 255 }];
  optional string instructor_id = 17 [(buf.validate.field).string = { min_len: 1, max_len: 255 }];
}

message EditChapterLessonResponse {
  common.BaseResponse base = 1;
  string id = 2;

}

message DeleteChapterLessonRequest {
  string id = 1 [(buf.validate.field).string = { min_len: 1, max_len: 255 }];
}

message DeleteChapterLessonResponse {
  common.BaseResponse base = 1;
}